# Firebase App Hosting configuration
# Documentation: https://firebase.google.com/docs/app-hosting

runConfig:
  # Runtime environment
  runtime: nodejs20
  
  # Secret environment variables (stored in Google Secret Manager)
  secrets:
    # Public Firebase client config (NEXT_PUBLIC_* variables)
    - variable: NEXT_PUBLIC_FIREBASE_API_KEY
      secret: NEXT_PUBLIC_FIREBASE_API_KEY
      projectId: cfg-event-regportal
    - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
      secret: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
      projectId: cfg-event-regportal
    - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
      secret: NEXT_PUBLIC_FIREBASE_PROJECT_ID
      projectId: cfg-event-regportal
    - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
      secret: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
      projectId: cfg-event-regportal
    - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
      secret: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
      projectId: cfg-event-regportal
    - variable: NEXT_PUBLIC_FIREBASE_APP_ID
      secret: NEXT_PUBLIC_FIREBASE_APP_ID
      projectId: cfg-event-regportal
    - variable: NEXT_PUBLIC_APP_URL
      secret: NEXT_PUBLIC_APP_URL
      projectId: cfg-event-regportal
    
    # Server-side Firebase Admin SDK credentials
    - variable: FIREBASE_PROJECT_ID
      secret: FIREBASE_PROJECT_ID
      projectId: cfg-event-regportal
    - variable: FIREBASE_CLIENT_EMAIL
      secret: FIREBASE_CLIENT_EMAIL
      projectId: cfg-event-regportal
    - variable: FIREBASE_PRIVATE_KEY
      secret: FIREBASE_PRIVATE_KEY
      projectId: cfg-event-regportal
    
    # Zeptomail credentials
    - variable: ZEPTOMAIL_API_KEY
      secret: ZEPTOMAIL_API_KEY
      projectId: cfg-event-regportal
    - variable: ZEPTOMAIL_FROM_EMAIL
      secret: ZEPTOMAIL_FROM_EMAIL
      projectId: cfg-event-regportal
    - variable: ZEPTOMAIL_FROM_NAME
      secret: ZEPTOMAIL_FROM_NAME
      projectId: cfg-event-regportal

# Cloud Build configuration
buildConfig:
  runtime: nodejs20
  buildCommand: npm run build
  installCommand: npm ci
